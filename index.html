<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Praktek Pertamaku</title>
    <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport" />

    <link rel="icon" href="assets/img/icon.ico" type="image/x-icon" />
    <script src="assets/js/plugin/webfont/webfont.min.js"></script>

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet" />

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet" />
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet" />
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />

    <!-- Template Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet" />

    <script>
      WebFont.load({
        google: { families: ["Lato:300,400,700,900"] },
        custom: {
          families: ["Flaticon", "Font Awesome 5 Solid", "Font Awesome 5 Regular", "Font Awesome 5 Brands", "simple-line-icons"],
          urls: ["assets/css/fonts.min.css"],
        },
        active: function () {
          sessionStorage.fonts = true;
        },
      });
    </script>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/atlantis.min.css" />
    <script src="assets/js/core/jquery.3.2.1.min.js"></script>
    <script src="assets/js/core/popper.min.js"></script>
    <script src="assets/js/core/bootstrap.min.js"></script>
    <script src="assets/js/plugin/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
    <script src="assets/js/plugin/jquery-ui-touch-punch/jquery.ui.touch-punch.min.js"></script>
    <script src="assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>
    <script src="assets/js/plugin/sweetalert/sweetalert.min.js"></script>
    <script src="assets/js/atlantis.min.js"></script>
    <script src="https://drive.crazycode.my.id/datajs/produk.js"></script>

    <link rel="stylesheet" href="assets/libqr/qrcode-reader.min.css" />
    <script src="assets/libqr/qrcode-reader.min.js"></script>
    <script src="assets/js/qrcode.min.js"></script>
  </head>

  <body style="background-color: rgb(241, 224, 214) !important">
    <div class="wrapper overlay-sidebar">
      <div class="main-header">
        <div class="logo-header d-flex" style="background-color: #ddb788">
          <a href="index.html" class="logo">
            <h3 style="color: #644b36; margin-top: 15px; font-size: 20px; font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif">
              <img src="/assets/img/images-removebg-preview.png" alt="logo" style="width: 30px" srcset="" />
              IJOWO
            </h3>
            <!-- <img src="assets/img/logo.svg" alt="navbar brand" class="navbar-brand"> -->
          </a>
          <button class="navbar-toggler sidenav-toggler ml-auto" type="button" data-toggle="collapse" data-target="collapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"><i class="icon-menu"></i></span>
          </button>
          <button class="topbar-toggler more"><i class="icon-options-vertical"></i></button>
          <div class="nav-toggle">
            <button class="btn btn-toggle sidenav-overlay-toggler" id="btnx"><i class="icon-menu"></i></button>
          </div>
        </div>
        <nav class="navbar navbar-header navbar-expand-lg" style="background-color: #ddb788">
          <div class="container-fluid"></div>
        </nav>
      </div>
      <div class="sidebar sidebar-style-2" style="background-color: #ddb788; backdrop-filter: blur(5px)">
        <div class="sidebar-wrapper scrollbar scrollbar-inner">
          <div class="sidebar-content">
            <ul class="nav nav-dark">
              <li class="nav-item active mnsidebar" id="mnberanda">
                <a href="javascript:void(0)" onclick="konten('beranda.html','#mnberanda')">
                  <i class="icon-layers"></i>
                  <p style="color: #644b36 !important">Beranda</p>
                </a>
              </li>
              <li class="nav-item mnsidebar" id="mnform">
                <a href="javascript:void(0)" onclick="konten('form.html','#mnform')">
                  <i class="icon-note"></i>
                  <p style="color: #644b36 !important">itungan jowo</p>
                </a>
              </li>
              <li class="nav-item mnsidebar" id="mnscan">
                <a href="javascript:void(0)" onclick="konten('scan.html','#mnscan')">
                  <i class="icon-note"></i>
                  <p style="color: #644b36 !important">Hitung Wethon Jodoh</p>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="main-panel">
        <div class="content" id="blokkonten"></div>
      </div>
    </div>

    <script>
      konten("beranda.html", "#mnberanda");
      function konten(namafile, namaid) {
        $("#blokkonten").load(namafile);
        $(".mnsidebar").removeClass("active");
        $(namaid).addClass("active");
        $("#btnx").click();
      }

      function HitungHari() {
        let terjemahhari = ["Ahad 5", "Senin 4", "Selasa 3", "Rabu 7", "Kamis: 8", "Jumat: 6", "Sabtu: 9"];
        let x = $("#txttgllahir").val();
        let tgllahir = new Date(x);
        return terjemahhari[tgllahir.getDay()];
      }

      function HitungPasaran() {
        let terjemahpasar = ["Kliwon: 8", "Legi: 5", "Pahing: 9", "Pon: 7", "Wage: 4"];
        let x = $("#txttgllahir").val();
        let tgllahir = new Date(x);
        let y = "1900-01-01";
        let tglawal = new Date(y);
        let selisih = (Date.parse(tgllahir.toGMTString()) - Date.parse(tglawal.toGMTString())) / (1000 * 60 * 60 * 24);
        let hasil = Math.floor(selisih + 2) % 5;
        return terjemahpasar[hasil];
      }

      //FUNCTION UMUR
      function HitungUmur() {
        let dina = ["Ahad 5", "Senin 4", "Selasa 3", "Rabu 7", "Kamis: 8", "Jumat: 6", "Sabtu: 9"];
        let neptu = ["Kliwon: 8", "Legi: 5", "Pahing: 9", "Pon: 7", "Wage: 4"];

        let x = $("#txttgllahir").val();
        let tgllahir = new Date(x);
        let sekarang = new Date();
        let tahunLahir = tgllahir.getFullYear();
        let tahunSekarang = sekarang.getFullYear();
        let umur = tahunSekarang - tahunLahir;
        return umur;
      }

      function tampil() {
        let hari = HitungHari();
        let pasaran = HitungPasaran();
        let umur = HitungUmur(); // Calculate age
        let hasil = "Hari Kelahiran: " + hari + " " + pasaran + "";
        let hasil2 = "<br>Umur: " + umur + " tahun";

        var test = parseInt(hari.split(":")[1]) + parseInt(pasaran.split(":")[1]);
        console.log("hasil" + test);
        $("#blokhasil").html(hasil);
        // Update the age in the "blokumur" element
        // $("#blokumur").html("Umur: " + umur + " tahun");
        $("#blokumur").html(hasil2);
      }

      function HitungHariPria() {
        let terjemahhari = ["Ahad: 5", "Senin: 4", "Selasa: 3", "Rabu: 7", "Kamis: 8", "Jumat: 6", "Sabtu: 9"];
        let x = $("#tgllahirpria").val();
        let tgllahir = new Date(x);
        return terjemahhari[tgllahir.getDay()];
      }

      function HitungPasaranPria() {
        let terjemahpasar = ["Kliwon: 8", "Legi: 5", "Pahing: 9", "Pon: 7", "Wage: 4"];
        let x = $("#tgllahirpria").val();
        let tgllahir = new Date(x);
        let y = "1900-01-01";
        let tglawal = new Date(y);
        let selisih = (Date.parse(tgllahir.toGMTString()) - Date.parse(tglawal.toGMTString())) / (1000 * 60 * 60 * 24);
        let hasil = Math.floor(selisih + 2) % 5;
        return terjemahpasar[hasil];
      }

      //FUNCTION UMUR
      function HitungUmurPria() {
        let dina = ["Ahad: 5", "Senin: 4", "Selasa: 3", "Rabu: 7", "Kamis: 8", "Jumat: 6", "Sabtu: 9"];
        let neptu = ["Kliwon: 8", "Legi: 5", "Pahing: 9", "Pon: 7", "Wage: 4"];

        let x = $("#tgllahirpria").val();
        let tgllahir = new Date(x);
        let sekarang = new Date();
        let tahunLahir = tgllahir.getFullYear();
        let tahunSekarang = sekarang.getFullYear();
        let umur = tahunSekarang - tahunLahir;
        return umur;
      }

      //   wanita

      function HitungHariWanita() {
        let terjemahhari = ["Ahad: 5", "Senin: 4", "Selasa: 3", "Rabu: 7", "Kamis: 8", "Jumat: 6", "Sabtu: 9"];
        let x = $("#tgllahirwanita").val();
        let tgllahir = new Date(x);
        return terjemahhari[tgllahir.getDay()];
      }

      function HitungPasaranWanita() {
        let terjemahpasar = ["Kliwon: 8", "Legi: 5", "Pahing: 9", "Pon: 7", "Wage: 4"];
        let x = $("#tgllahirwanita").val();
        let tgllahir = new Date(x);
        let y = "1900-01-01";
        let tglawal = new Date(y);
        let selisih = (Date.parse(tgllahir.toGMTString()) - Date.parse(tglawal.toGMTString())) / (1000 * 60 * 60 * 24);
        let hasil = Math.floor(selisih + 2) % 5;
        return terjemahpasar[hasil];
      }

      //FUNCTION UMUR
      function HitungUmurWanita() {
        let dina = ["Ahad: 5", "Senin: 4", "Selasa: 3", "Rabu: 7", "Kamis: 8", "Jumat: 6", "Sabtu: 9"];
        let neptu = ["Kliwon: 8", "Legi: 5", "Pahing: 9", "Pon: 7", "Wage: 4"];

        let x = $("#tgllahirwanita").val();
        let tgllahir = new Date(x);
        let sekarang = new Date();
        let tahunLahir = tgllahir.getFullYear();
        let tahunSekarang = sekarang.getFullYear();
        let umur = tahunSekarang - tahunLahir;
        return umur;
      }
      function TampilJodoh() {
  let haripria = HitungHariPria();
  let pasaranpria = HitungPasaranPria();
  let umurpria = HitungUmurPria();

  let hariwanita = HitungHariWanita();
  let pasaranwanita = HitungPasaranWanita();
  let umurwanita = HitungUmurWanita();

  var pria = parseInt(haripria.split(":")[1]) + parseInt(pasaranpria.split(":")[1]);
  var wanita = parseInt(hariwanita.split(":")[1]) + parseInt(pasaranwanita.split(":")[1]);
  console.log("hari pria:  " + haripria);
  console.log("hari wanita:  " + hariwanita);
  console.log("pasaran pria:  " + pasaranpria);
  console.log("pasaran wanita:  " + pasaranwanita);
  var jodoh = pria + wanita;

  $.ajax({
    type: "GET",
    url: "http://localhost/ijowo/api/api.php/weton/" + jodoh,
    dataType: "json",
    success: function (response) {
      console.log(response);
      var respon = response.data[0];
      console.log(respon.weton_jodoh);

      if (respon.weton_jodoh == "PEGAT" || respon.weton_jodoh == "PADU" || respon.weton_jodoh == "SUJANAN") {
        $("#pentol").attr("src", "https://i.pinimg.com/originals/2f/d4/ef/2fd4efa03bcfa908d79ec958b02b5ab5.gif");
      } else if (respon.weton_jodoh == "TOPO") {
        $("#pentol").attr("src", "https://i.pinimg.com/originals/44/d6/f9/44d6f9472d6a0092fc636f0425ecb756.gif");
      } else {
        $("#pentol").attr("src", "https://i.pinimg.com/originals/ac/94/9c/ac949c1e3f393c52b52adc6200c3d8ae.gif");
      }
 $("#test").text("haduh")
      // Set elemen-elemen modal langsung setelah menerima data dari API
      $("#cardhasil #cardp #haripasangan1").html("Wethon Pasangan Pertama = &nbsp;" + haripria + "&nbsp; + &nbsp;" + pasaranpria);
      $("#hasilpasangan1").text("Hasil Wethon Pasangan Pertama=" + pria);
      $("#haripasangan2").html("Wethon Pasangan Kedua=" + hariwanita + "+" + pasaranwanita);
      $("#hasilpasangan2").html("Hasil Wethon Pasangan Kedua=" + wanita);
      $("#blokhasiljodoh").html(respon.weton_jodoh);
      $("#blokdeskripsi").html(respon.deskripsi);
      $("#haripasangan").html("Hasil = &nbsp;" + pria + "&nbsp;+ &nbsp;" + wanita + "&nbsp;=&nbsp;" + jodoh);

      // Gunakan fungsi modal Bootstrap untuk menetapkan konten modal
      var myModal = new bootstrap.Modal(document.getElementById('modalhasil'));
      myModal.show();
    },
    error: function (error) {
      console.error("Error fetching data:", error);
    },
  });
}


      function kosong() {
        $("#txttgllahir").val("");
        $("#blokhasil").html("Hari Kelahiran: ?????");
        $("#blokumur").html("Umur: ?????tahun");
      }
      function kosongjodoh() {
        $("#tgllahirpria").val("");
        $("#tgllahirwanita").val("");
        $("#cardhasil").hide();
      }

      function cobaevent() {
        let nama = $("#txtnama").val();
        let jumlah = nama.length;
        $("#blokhasil").html("Jumlah Karakter: " + jumlah);
        if (jumlah > 0) {
          $("#btnreset").attr("hidden", false);
        } else {
          $("#btnreset").attr("hidden", true);
        }
      }

      function resetnama() {
        $("#txtnama").val("");
        cobaevent();
      }

      function cobaevent2(x) {
        if (x == "kursor") {
          $("#btnreset").removeClass("btn-primary");
          $("#btnreset").addClass("btn-danger");
        } else {
          $("#btnreset").removeClass("btn-danger");
          $("#btnreset").addClass("btn-primary");
        }
      }
      function ambildataproduk() {
        let hasil = "";
        let x;
        for (x in dataproduk) {
          let jd = dataproduk[x].nama;
          let pm = dataproduk[x].kategori;
          let th = dataproduk[x].harga;
          let rt = dataproduk[x].produsen;
          let sn = dataproduk[x].keterangan;
          let cv = dataproduk[x].gambar;
          hasil += "<img src='" + cv + "' data-nama'" + jd + "' data-kategori='" + pm + "'data-harga='" + th + "'data-produsen='" + rt + "'data-keterangan='" + sn + "' class='col-md-2' style='margin-bottom: 15px;' onclick='tampildetail(this)'>";
        }
        $("#blokdata").html(hasil);
      }
      function tampildetail(el) {
        let nm = $(el).data("nama");
        let kt = $(el).data("kategori");
        let hr = $(el).data("harga");
        let pr = $(el).data("produsen");
        let ktn = $(el).data("keterangan");
        $("#blokdetail").html("<p style='font-size' 20px;'><b>Nama Produk:</b><br>" + nm + "<p style='font-size' 20px;'><b>Kategori:</b><br>" + kt + "<p style='font-size' 20px;'><b>Harga:</b><br>" + hr + "<p style='font-size' 20px;'><b>Produsen:</b><br>" + pr + "<p style='font-size' 20px; text-align: justify'><b>Keterangan: </b><br> " + ktn);
        $("#modaldetail").modal("show");
      }
      function genqr() {
        $("#hasilrq").html("");
        let kodeqr = new QRCode(document.getElementById("hasilrq"), {
          width: 150,
          height: 150,
        });
        let kata = $("#txtkata").val();
        kodeqr.makeCode(kata);
      }
      function resetqr() {
        $("#txtkata").val("");
        $("#hasilrq").html("");
      }
    </script>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>

    <!-- Template Main JS File -->
    <script src="assets/js/main.js"></script>
  </body>
</html>
